var PRNG=function(a){function b(b){a.MT=new Uint32Array(624),a.index=0,a.MT[0]=b;for(var c=1;624>c;c++)a.MT[c]=1812433253*(a.MT[c-1]^(a.MT[c-1]>>30)+c)}return a.generateNumbers=function(){for(var b,c=0;624>c;c++)b=(2147483648&a.MT[c])+(2147483647&a.MT[(c+1)%624]),a.MT[c]=a.MT[(c+397)%624]^b>>1,0!=b%2&&(a.MT[c]^=2567483615)},a.extractNumber=function(){0==a.index&&a.generateNumbers();var b=a.MT[a.index];return b^=b>>11,b^=2636928640&b<<7,b^=4022730752&b<<15,b^=b>>18,a.index=(a.index+1)%624,b},a.setSeed=b,a.random=function(){return a.extractNumber()/2147483647},b(0),a}({});function squareDistance(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d}function norm(c,d,a){return(c-d)/(a-d)}var size=1024,canvas=document.createElement("canvas");canvas.style.position="absolute",canvas.style.top="0",canvas.style.left="0",canvas.width=window.innerWidth,canvas.height=document.body.scrollHeight,ctx=canvas.getContext("2d"),document.body.appendChild(canvas);var vertices;function update(){PRNG.setSeed(3);var b,c,d,e;vertices=[];for(var f=0;f<20;f++){b=(PRNG.random()-.5)*window.innerWidth/2,c=1e-4*((0==f%2?1:-1)*Date.now())+2*(PRNG.random()*Math.PI),d=[Math.cos(c)*b,Math.sin(c)*b],vertices.unshift(d);for(var g=0;g<40*(.5+PRNG.random());g++)b=PRNG.random()*100,c=2e-4*((0==g%2?1:-1)*Date.now())+2*(PRNG.random()*Math.PI),e=vertices[0],d=[e[0]+Math.cos(c%b)*b,e[1]+Math.sin(2*(c%b))*b],vertices.push(d)}ctx.restore(),ctx.save(),canvas.width=window.innerWidth,canvas.height=document.body.scrollHeight,ctx.globalAlpha=.1,ctx.fillStyle="#000",ctx.fillRect(0,0,canvas.width,canvas.height),ctx.translate(canvas.width/2,canvas.height/2),ctx.strokeStyle="#FFF";for(f=8;f<=128;f*=2)ctx.globalAlpha=.1*(1-f/128),yolo(vertices,f,size,size);requestAnimationFrame(update)}function yolo(b,c,e,f){var g=2*Math.sin(Math.PI/3),d=g/(2*Math.tan(Math.PI/3)),a=1+d;c=c||1,g*=c,a*=c;var k=2*Math.ceil(e/g),m=Math.ceil(f/a),n=[];ctx.beginPath(),b.forEach(function(b){for(var c,h,l,o,p,q=Math.round(norm(b[0],0,e)*k),r=Math.round(norm(b[1],0,f)*m),s=Number.POSITIVE_INFINITY,t=[],u=q-2;u<q+2;u++)for(var v=r-2;v<r+2;v++)(1==Math.abs(u)%2&&0==Math.abs(v)%2||0==Math.abs(u)%2&&1==Math.abs(v)%2)&&(o=u*g/2,p=v*a,c=squareDistance([o,p],b),c<s&&(s=c,h=u*g/2,l=v*a,t.unshift(h,l)));.5<PRNG.random()?(ctx.moveTo(b[0],b[1]),ctx.lineTo(t[0],t[1])):(ctx.moveTo(t[0],t[1]),ctx.lineTo(t[2],t[3]),.95<PRNG.random()&&n.push(t))}),ctx.stroke(),ctx.beginPath(),ctx.fillStyle="#FFF",n.forEach(function(a){ctx.moveTo(a[0],a[1]),ctx.lineTo(a[2],a[3]),ctx.lineTo(a[4],a[5]),ctx.lineTo(a[0],a[1])}),ctx.fill()}update();